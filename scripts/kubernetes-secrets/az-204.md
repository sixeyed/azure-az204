# Kubernetes Secrets - AZ-204 Exam Focus Script

**Format:** Exam preparation guide
**Tone:** Educational, exam-focused, practical
**Audience:** AZ-204 certification candidates

---

## Introduction

Welcome to the AZ-204 exam focus session on Kubernetes Secrets. If you're preparing for the Azure Developer Associate certification, secure configuration management is a critical topic you need to master. Let's break down exactly what you need to know for the exam.

---

## Exam Topic Mapping

**[Screen: AZ-204 Exam Objectives]**

Kubernetes Secrets directly relate to several AZ-204 exam objectives. You'll find this content under "Implement containerized solutions" and specifically "Configure container settings." The exam expects you to understand secure configuration practices in Azure Kubernetes Service, including secret management, integration with Azure Key Vault, and security best practices.

---

## Key Concept 1: Secrets vs ConfigMaps

**[Screen: Comparison table]**

This is a fundamental distinction you must understand for the exam. ConfigMaps are for non-sensitive configuration data, while Secrets are for sensitive information. Both use similar APIs and can be surfaced as environment variables or volume mounts.

However, here's what makes secrets different: they're base-64 encoded when stored and retrieved through kubectl. They can be encrypted at rest in the Kubernetes database, though this isn't the default. And importantly, role-based access control should restrict who can read secrets.

An exam question might present a scenario and ask you to choose between ConfigMap and Secret. If the data includes credentials, connection strings, API keys, or certificates - that's a Secret. If it's general application settings like feature flags or environment names - that's a ConfigMap.

---

## Key Concept 2: Creating Secrets

**[Screen: Multiple creation methods]**

You need to know three ways to create secrets, and when to use each:

First, imperatively from literal values or files using kubectl create secret. This is quick for testing but doesn't provide version control or easy reproducibility.

Second, declaratively using YAML with base-64 encoded values in the data field. This can be version controlled, but encoding is cumbersome and encoding is NOT encryption.

Third, declaratively using YAML with plain text values in the stringData field. Kubernetes automatically encodes these when storing. This is cleaner for version-controlled configurations that are already secured.

An exam question might show you YAML and ask what will happen, or present a scenario and ask you to choose the appropriate creation method.

---

## Key Concept 3: Using Secrets in Pods

**[Screen: Pod specification examples]**

There are two primary ways to consume secrets in your applications, and you need to recognize both in YAML:

Environment variables: Use envFrom with secretRef to load all secret values as environment variables, or use valueFrom with secretKeyRef to load specific values. The secret values appear as plain text environment variables inside the container.

Volume mounts: Use volumes with a secret source, then mount it in your container. Each secret key becomes a file in the mount path. The files contain the decoded plain text values.

The exam might show you pod YAML and ask how the application will access secret values, or give you requirements and ask you to identify the correct configuration approach.

---

## Key Concept 4: Secret Security Best Practices

**[Screen: Security checklist]**

This is critical for exam scenarios about securing applications. You need to know that base-64 encoding is NOT encryption. Anyone with access to the secret object can decode the values trivially.

Real security comes from role-based access control limiting who can read secrets. It comes from enabling encryption at rest in your Kubernetes cluster. And increasingly, it comes from integrating with external secret stores.

For Azure specifically, and this is exam-relevant, you should use Azure Key Vault for production secrets. Azure Kubernetes Service supports this through the Secrets Store CSI driver or external secrets operators.

An exam question might present a security requirement and ask you to identify the appropriate solution, or show a configuration and ask you to identify security issues.

---

## Key Concept 5: Azure Key Vault Integration

**[Screen: Architecture diagram showing AKS and Key Vault]**

This is a high-value topic for the AZ-204 exam. While Kubernetes secrets are fine for development, production applications in Azure should leverage Azure Key Vault.

You need to understand the integration architecture: The Secrets Store CSI driver runs in your AKS cluster. You configure a SecretProviderClass that defines which secrets to pull from Key Vault. Your pod spec references this provider class. When the pod starts, the CSI driver authenticates to Key Vault using managed identity and mounts the secrets.

The advantages are significant: centralized secret management, audit logging, automatic rotation, and integration with Azure security features.

Exam questions might ask you to identify the correct components for Key Vault integration, or to sequence the configuration steps correctly.

---

## Common Exam Scenarios

**[Screen: Scenario examples]**

Let's look at typical exam question patterns:

Scenario one: "Your containerized application needs database credentials. How should you configure this securely in AKS?" The answer involves creating a Secret, not a ConfigMap, and referencing it in your deployment. Bonus points if you mention Key Vault integration for production.

Scenario two: "You need to rotate an API key used by your application without rebuilding the container image." The answer involves updating the Secret and triggering a deployment rollout to reload the configuration.

Scenario three: "Your security team requires all secrets to be stored in Azure Key Vault with audit logging." The answer involves configuring the Secrets Store CSI driver with a SecretProviderClass pointing to Key Vault.

---

## Hands-On Skills for the Exam

**[Screen: Skills checklist]**

Make sure you can perform these tasks confidently:

Create a secret using kubectl create secret generic, both from literal values and from files. Write YAML for a Secret object using both data and stringData fields. Configure a Deployment to load secrets as environment variables using secretRef. Configure a Deployment to mount secrets as files using volume mounts. Describe and extract values from an existing secret.

The exam includes performance-based questions where you might need to configure these in the Azure portal or identify correct configurations in provided YAML.

---

## Key Vault Specific Skills

**[Screen: Azure-specific checklist]**

For Azure Key Vault integration, understand the high-level architecture even if you haven't configured every detail. Know that you need the Secrets Store CSI driver installed in AKS. Know that you create a SecretProviderClass to define the Key Vault connection. Know that pods use a volume mount with the CSI driver. And know that managed identity is used for authentication.

You don't need to memorize every YAML field, but you should recognize the components and understand the flow.

---

## Exam Tips

**[Screen: Study tips]**

Here's how to prepare effectively:

Practice creating secrets multiple ways until it's second nature. Read through Kubernetes YAML and be able to identify how secrets are being used. Understand the security implications - when is something secure enough, when do you need Key Vault? Review the Azure Key Vault CSI driver documentation to understand the integration architecture.

And critically, do the hands-on labs. Reading about secrets isn't enough. You need muscle memory for the kubectl commands and the ability to spot correct versus incorrect configurations.

---

## Common Pitfalls

**[Screen: Warning signs]**

Watch out for these common mistakes on the exam:

Don't confuse base-64 encoding with encryption. The exam might present a scenario where someone thinks encoding alone is sufficient security - that's wrong.

Don't forget that secrets are decoded inside containers. Your application sees plain text values, not encoded ones.

Don't use ConfigMaps for sensitive data just because they're simpler. If the scenario involves credentials or keys, you need Secrets.

And for Azure scenarios, don't overlook Key Vault integration. If the question mentions production environments or compliance requirements, Key Vault is usually part of the answer.

---

## Resource Management for the Exam

**[Screen: Lifecycle management]**

Understand secret lifecycle management. Secrets can be updated, and depending on how they're consumed, the application may or may not see updates automatically. Volume-mounted secrets update automatically when the source changes, but the application must watch for file changes. Environment variables don't update automatically - you need to restart the pod.

This leads to deployment strategies. Exam questions might ask about rolling out configuration changes or ensuring applications pick up updated secrets.

---

## Quick Reference

**[Screen: Command cheat sheet]**

Here are the essential commands to memorize:

Create secret from literal: kubectl create secret generic, with the from-literal flag for each key-value pair.

Create secret from file: kubectl create secret generic with from-file for individual files or from-env-file for environment variable files.

View secrets: kubectl get secrets shows available secrets. kubectl describe secret shows keys but not values.

Extract secret value: kubectl get secret with jsonpath, then pipe to base64 decode.

Delete secrets: kubectl delete secret by name, or use label selectors to clean up multiple secrets.

Practice these until you can type them without thinking. The exam might present scenarios where you need to identify the correct command syntax.

---

## Integration Points with Other AZ-204 Topics

**[Screen: Topic connections]**

Kubernetes Secrets connect to several other exam topics. They relate to Azure Container Registry for pulling images from private registries - you'd use an image pull secret for that. They connect to Azure Key Vault for centralized secret management. They relate to monitoring with Azure Monitor and Log Analytics for audit logging. And they tie into managed identities for secure authentication without credentials in code.

Understanding these connections helps you tackle complex exam scenarios that span multiple services.

---

## Final Exam Preparation Checklist

**[Screen: Checklist]**

Before you take the exam, make sure you can answer yes to these questions:

Can you explain the difference between Secrets and ConfigMaps? Can you create a secret using at least two different methods? Can you configure a pod to consume secrets as environment variables? Can you configure a pod to mount secrets as files? Do you understand why base-64 encoding is not sufficient security? Can you explain how Azure Key Vault integrates with AKS? Can you identify security issues in secret management configurations?

If you answered yes to all of these, you're well-prepared for the Kubernetes Secrets portion of the AZ-204 exam.

---

## Wrap Up

**[Screen: Success message]**

Kubernetes Secrets are a foundational topic for the AZ-204 exam. Master the core concepts - when to use secrets versus config maps, how to create and consume secrets, and how to integrate with Azure Key Vault. Get hands-on practice with the commands and YAML configurations. And always think about security - the exam loves scenarios where you need to identify the most secure approach.

You've got this! Keep practicing, and good luck on your AZ-204 certification journey!

---

**[End of AZ-204 focus content]**

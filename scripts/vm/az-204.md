# Virtual Machines - AZ-204 Exam Focus

## AZ-204 Exam Relevance

While Virtual Machines are not the primary focus of the AZ-204 exam, understanding them is important for several reasons. The exam focuses heavily on Platform as a Service offerings, but you need to understand when to use IaaS solutions like VMs versus PaaS alternatives.

## Key Concepts for AZ-204

### IaaS vs PaaS Decision Making

For the AZ-204 exam, you should understand when Virtual Machines are the right choice:

**Use VMs when you need:**
- Complete control over the operating system and installed software
- To run applications that require specific OS configurations
- To migrate legacy applications that can't be easily containerized or refactored
- Full administrative access to install custom software or drivers

**Prefer PaaS alternatives when:**
- You want to focus on application code rather than infrastructure management
- You need automatic scaling and high availability without managing load balancers
- You want built-in patching and maintenance handled by Azure
- You're building cloud-native applications

### VM Creation and Configuration

For the exam, know how to provision VMs using:

**Azure CLI** - The `az vm create` command with key parameters:
- Resource group (`-g`)
- Location (`-l`)
- VM name (`-n`)
- Image (`--image`)
- Size (`--size`)
- Authentication options (SSH keys or passwords)

**Azure Portal** - Understand the workflow and required configuration:
- Resource group selection
- Image and size selection
- Networking configuration
- Disk configuration
- Authentication setup

### Resource Dependencies

Understand what resources are created with a VM:

**Virtual Network (VNet)** - Provides network isolation and connectivity

**Network Interface (NIC)** - Connects the VM to the virtual network

**Network Security Group (NSG)** - Firewall rules controlling inbound and outbound traffic

**Public IP Address** - Optional resource for internet connectivity

**Managed Disks** - OS disk and optional data disks

For the exam, know that these dependencies can be automatically created or you can specify existing resources.

### VM Sizes and Performance

Understand the different VM series:

**A-Series** - Entry-level, cost-effective for development and test

**B-Series** - Burstable, suitable for workloads with variable CPU usage

**D-Series** - General purpose with balanced CPU-to-memory ratio

**E-Series** - Memory-optimized for databases and in-memory applications

**F-Series** - Compute-optimized with higher CPU-to-memory ratio

**N-Series** - GPU-enabled for machine learning and graphics workloads

Know that VM size affects:
- CPU cores and compute power
- Memory capacity
- Network bandwidth
- Disk throughput and IOPS
- Cost

### Storage and Disks

Understand disk types and their performance characteristics:

**Standard HDD** - Lowest cost, suitable for backup and non-critical workloads, NUMBER IOPS

**Standard SSD** - Better performance than HDD, good for web servers and light applications, NUMBER IOPS

**Premium SSD** - High performance for production workloads and databases, NUMBER+ IOPS

**Ultra Disk** - Highest performance for mission-critical workloads with sub-millisecond latency

Know that you can:
- Attach multiple data disks to a VM
- Resize disks (can only increase, not decrease)
- Take snapshots for backup and recovery
- Encrypt disks using Azure Disk Encryption

### Networking and Security

For the AZ-204 exam, understand:

**Network Security Groups** - How to configure inbound and outbound rules by:
- Port number (e.g., PORT for SSH, PORT for HTTPS)
- Protocol (TCP, UDP, Any)
- Source and destination (IP ranges, service tags, application security groups)
- Priority (lower numbers processed first)

**Public vs Private IP Addresses:**
- Public IPs enable internet connectivity
- Private IPs for internal VNet communication
- Static vs dynamic allocation

**Connectivity Options:**
- SSH for Linux VMs (port PORT)
- RDP for Windows VMs (port PORT)
- Azure Bastion for secure browser-based connectivity without public IPs
- VPN and ExpressRoute for hybrid connectivity

### VM Availability and Scaling

While not the main focus of this lab, for the AZ-204 exam know:

**Availability Sets** - Protect against hardware failures within a datacenter by spreading VMs across fault domains and update domains

**Availability Zones** - Protect against entire datacenter failures by deploying across physically separate zones

**Virtual Machine Scale Sets** - Automatically scale VM instances based on demand or schedule

**Load Balancers** - Distribute traffic across multiple VM instances

### Managed Identities

For the AZ-204 exam, understand how VMs can use Managed Identities:

**System-Assigned Managed Identity** - Created with the VM and deleted when VM is deleted

**User-Assigned Managed Identity** - Created independently and assigned to one or more VMs

Managed identities allow VMs to authenticate to Azure services without storing credentials in code, which is a security best practice tested on the exam.

### Comparison to Other Compute Options

The AZ-204 exam may ask you to choose between compute services:

**Virtual Machines** - Full control, IaaS, you manage the OS

**App Service** - PaaS for web apps, built-in scaling and deployment features

**Container Instances** - Run containers without managing VMs

**Kubernetes Service** - Container orchestration for microservices

**Azure Functions** - Serverless, event-driven compute

**Azure Batch** - Large-scale parallel and HPC workloads

### Cost Management

For the exam, understand cost factors:

**VM Size** - Bigger size equals higher cost

**Region** - Pricing varies by geographic region

**License Type** - Azure Hybrid Benefit can reduce costs if you have existing Windows Server licenses

**Reserved Instances** - Commit to 1 or 3 years for significant discounts (up to PERCENTAGE%)

**Spot VMs** - Use spare capacity at discounted rates for interruptible workloads

**Automatic Shutdown** - Schedule VMs to stop during non-business hours

### Automation and DevOps

Know how to automate VM deployment for the exam:

**Azure CLI** - Command-line scripting as demonstrated in this lab

**Azure PowerShell** - Alternative scripting option using PowerShell cmdlets

**ARM Templates** - JSON templates for declarative infrastructure deployment

**Bicep** - Domain-specific language that compiles to ARM templates

**Terraform** - Third-party infrastructure as code tool

## Exam Tips

Remember these key points for AZ-204 questions about Virtual Machines:

1. VMs provide maximum control but require more management overhead
2. Always consider PaaS alternatives first for new cloud-native applications
3. Understand resource dependencies and how they're created
4. Know the basics of VM sizes, disk types, and networking
5. Managed identities eliminate the need for credentials in code
6. Network Security Groups control traffic at the port level
7. VM deletion doesn't automatically delete all associated resources like disks
8. Use availability sets or zones for high availability requirements

## Practical Application

In the AZ-204 exam scenario questions, you might see:

"A company needs to migrate an application that requires DESCRIPTION. What Azure compute service should they use?"

Look for clues like:
- "requires specific kernel modules" → VM
- "legacy application that can't be modified" → VM
- "needs to auto-scale based on HTTP requests" → App Service
- "event-driven processing" → Azure Functions
- "microservices architecture" → Container Apps or AKS

Understanding VMs gives you the foundation to make these architectural decisions, which is a core skill tested in the AZ-204 exam.

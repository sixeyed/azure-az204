We've covered Azure Virtual Machines as isolated compute environments running full operating systems with complete administrative permissions, supporting both Linux and Windows with preconfigured images and various compute sizes. Now let's provision and manage VMs hands-on.

When you explore VMs in the Portal, you'll discover the rich configuration landscape Azure provides. The image selection offers everything from Ubuntu and Red Hat to Windows Server and SQL Server pre-configured variants. Size selection reveals how costs scale with CPU cores and memory, ranging from a few dollars to hundreds per day. You'll examine authentication options, comparing SSH keys with passwords for Linux or username and password combinations for Windows. The inbound port rules section shows which ports to open, like port 22 for SSH on Linux or 3389 for RDP on Windows.

One thing that becomes clear immediately is the required dependencies. All resources must belong to a resource group providing organization and lifecycle management. You need virtual networks for network infrastructure, network security groups acting as distributed firewalls, and public IP addresses for internet connectivity. These aren't optional extras, they're foundational to how VMs operate in Azure.

Creating a Linux VM with the CLI starts with finding valid VM sizes for your subscription and region. You'll use JMESPath queries with az vm list-sizes to filter by cores and memory constraints. Availability varies by region and subscription type, so what works in one location might not be available in another, and Enterprise subscriptions typically have access to sizes that free-tier subscriptions don't.

The actual creation using az vm create requires specifying location, resource group, VM name, image like the UbuntuLTS alias, and size. Creating takes a few minutes as Azure provisions all components: virtual network, network interface, public IP, NSG, and managed disk, all created automatically with sensible defaults. It's quite elegant how much Azure handles for you behind that single command.

Connecting to the VM via SSH uses the public IP address you retrieve with az vm show and the show-details flag. Here's something interesting: you connect without specifying username or password because Azure generated SSH key pairs during creation and configured the VM with the public key. SSH automatically finds the private key in your .ssh directory for secure, convenient authentication. You can run commands like top to see processes, uname -a for Linux system details, and curl to verify internet connectivity from the VM.

The lab challenge involves investigating disk configuration with az commands to understand disk size, performance tier, IOPS, and exploring the important concept of which resources persist after VM deletion for cost management.

VMs provide full control over operating systems with supporting resources like VNets, NICs, PIPs, and NSGs. Understanding resource dependencies and lifecycles is critical for infrastructure management. Let's master Azure Virtual Machines!

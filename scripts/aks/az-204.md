# Azure Kubernetes Service - AZ-204 Exam Perspective

## Overview

Welcome to the AZ-204 exam perspective on Azure Kubernetes Service. In this video, we'll focus on what you need to know about AKS for the Azure Developer Associate certification.

## AKS in the AZ-204 Exam

The AZ-204 exam tests your ability to develop cloud solutions on Azure, and container orchestration is a key component of modern application architecture. While you won't be expected to be a Kubernetes expert, you need to understand how to deploy and manage containerized applications using AKS.

The exam typically covers AKS in the context of:
- Implementing containerized solutions
- Deploying and configuring applications
- Integrating with other Azure services

Let's break down the key concepts you should master.

## Key Concepts for AZ-204

### 1. Creating and Managing AKS Clusters

You should know how to create an AKS cluster using both the Azure Portal and Azure CLI. The exam may test your knowledge of:

**Essential Parameters**:
- Resource group assignment
- Cluster name and location
- Node count and VM sizes
- Kubernetes version selection

**Command Structure**:
The basic `az aks create` command structure you need to know:

```
az aks create -g <resource-group> -n <cluster-name> --node-count <count> --node-vm-size <size>
```

Remember that AKS creates a managed resource group (prefixed with "MC_") that contains the underlying infrastructure. You should never manually modify resources in this managed resource group.

### 2. Connecting to AKS Clusters

For the exam, understand how developers authenticate and connect to AKS clusters:

**Getting Credentials**:
```
az aks get-credentials -g <resource-group> -n <cluster-name>
```

This command downloads the cluster credentials and configures kubectl to connect to your AKS cluster. It modifies your kubeconfig file, which kubectl uses to determine which cluster to communicate with.

**Important Note**: In production scenarios, you might use Azure Active Directory integration or service principals for authentication. While the exam may touch on these topics, focus on understanding the basic credential flow first.

### 3. Deploying Applications to AKS

The exam expects you to understand Kubernetes deployment concepts:

**Key Resources**:
- **Deployments**: Define how your application runs, including container images, replicas, and update strategies
- **Services**: Expose your application to network traffic, either internally or externally
- **ConfigMaps**: Store configuration data that pods can consume
- **Secrets**: Store sensitive data like connection strings or credentials (use placeholders like [YOUR-SECRET-VALUE] in exam answers)

**Deployment Command**:
```
kubectl apply -f <yaml-file-or-directory>
```

### 4. Scaling Applications

Understand both horizontal and vertical scaling:

**Horizontal Pod Scaling**:
You can manually scale by modifying the replicas field in your deployment:
```
kubectl scale deployment <name> --replicas=<count>
```

Or by editing the YAML file and reapplying it.

**Cluster Scaling**:
You can also scale the cluster itself by adding or removing nodes:
```
az aks scale -g <resource-group> -n <cluster-name> --node-count <count>
```

### 5. Integration with Azure Container Registry

A common exam scenario involves deploying applications from Azure Container Registry to AKS:

**ACR Integration**:
When creating an AKS cluster, you can attach it to an ACR:
```
az aks create ... --attach-acr <acr-name>
```

This creates the necessary permissions so AKS can pull images from your private container registry without additional authentication configuration.

**Image Pull Secrets**:
In scenarios where you're not using integrated authentication, understand that Kubernetes uses image pull secrets to authenticate with private registries. However, with ACR integration, this is handled automatically.

### 6. Monitoring and Troubleshooting

For the exam, know these basic troubleshooting commands:

**Viewing Pod Status**:
```
kubectl get pods
kubectl describe pod <pod-name>
kubectl logs <pod-name>
```

**Container Insights**:
Understand that Azure Monitor Container Insights can be enabled on AKS clusters for comprehensive monitoring. You don't need to know the deep details, but be aware that it exists and provides metrics, logs, and alerts.

## Common Exam Scenarios

### Scenario 1: Deploying a Web Application

You might be asked to deploy a containerized web application to AKS that:
- Uses an image from Azure Container Registry
- Stores configuration in ConfigMaps
- Exposes a public endpoint using a LoadBalancer service
- Uses secrets for database connection strings (remember: use placeholders like [YOUR-DB-CONNECTION-STRING])

**Key Steps**:
1. Create the AKS cluster
2. Attach to ACR
3. Create ConfigMaps and Secrets
4. Deploy the application
5. Expose via a Service

### Scenario 2: Scaling and High Availability

You might need to explain or implement:
- Running multiple replicas of an application
- Understanding how Kubernetes distributes traffic across pods
- Scaling the cluster to handle increased load

**Important Concept**: When you scale a deployment to multiple replicas, Kubernetes automatically distributes traffic across all healthy pods. If one pod fails, traffic is routed to the remaining pods.

### Scenario 3: Configuration Updates

Understand what happens when you update configurations:
- Modifying a ConfigMap doesn't automatically restart pods
- To apply new configuration, you typically need to trigger a rollout
- Updating a Deployment spec (like the image version) triggers a rolling update

## Security Considerations

The exam may test your understanding of AKS security:

### Role-Based Access Control (RBAC)
- AKS supports Kubernetes RBAC integrated with Azure AD
- You can control who can deploy applications and manage cluster resources
- For exam purposes, understand the concept rather than memorizing specific role definitions

### Network Policies
- AKS supports network policies to control traffic between pods
- This is typically an advanced topic, but be aware it exists

### Secrets Management
- Never hardcode credentials in your application or YAML files
- Use Kubernetes Secrets for sensitive data (use placeholders in examples)
- Consider Azure Key Vault integration for enterprise scenarios

## Node Pools

Understand that AKS supports multiple node pools:
- Different node pools can have different VM sizes
- You might have Linux and Windows node pools in the same cluster
- System node pools run critical Kubernetes components
- User node pools run your applications

For the exam, understand the concept and when you might use multiple node pools (e.g., GPU workloads, Windows containers).

## Cost Management

Be aware of cost factors:
- You're charged for the VMs running as nodes (not for the Kubernetes management plane itself)
- Larger VM sizes and more nodes increase costs
- The load balancer and public IPs also incur charges
- Stopping or scaling down nodes reduces costs

## Best Practices for the Exam

1. **Understand the Flow**: Know the complete flow from creating a cluster to deploying and accessing an application

2. **CLI Proficiency**: Be comfortable with both `az aks` and `kubectl` commands

3. **YAML Structure**: Understand the basic structure of Kubernetes YAML files, especially Deployments and Services

4. **Integration Points**: Know how AKS integrates with ACR, Azure Monitor, and Azure Active Directory

5. **Troubleshooting**: Be prepared to identify issues based on error messages or symptoms

6. **Security Mindset**: Always consider security implications and use placeholders for sensitive data

## Common Pitfalls to Avoid

1. **Don't modify the managed resource group**: Always work through the AKS resource

2. **Context awareness**: Remember that kubectl commands go to your current context

3. **Service types**: Understand the difference between ClusterIP, NodePort, and LoadBalancer services

4. **Image pull errors**: If pods can't start due to image pull errors, check ACR integration or image pull secrets

5. **Resource quotas**: Be aware that clusters have resource limits based on node capacity

## Practice Recommendations

To prepare for AKS questions on the AZ-204 exam:

1. **Create multiple clusters**: Practice with different configurations and sizes

2. **Deploy various applications**: Try simple web apps, multi-container apps, and apps with persistent storage

3. **Break things intentionally**: Deploy with wrong configurations and learn to troubleshoot

4. **Practice CLI commands**: Work without looking at documentation to build command muscle memory

5. **Understand YAML**: Hand-edit deployment files to see how changes affect running applications

## Final Thoughts

AKS represents the intersection of container technology and Azure cloud services. For the AZ-204 exam, focus on practical skills - creating clusters, deploying applications, and integrating with other Azure services. You don't need to be a Kubernetes expert, but you should be comfortable with the basics and understand how AKS simplifies Kubernetes management.

Remember: The exam tests your ability to develop solutions, not memorize documentation. Understand the concepts, practice the commands, and think about how you'd solve real-world scenarios.

Good luck with your AZ-204 preparation!

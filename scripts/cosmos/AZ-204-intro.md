Great work with Cosmos DB! This is a major AZ-204 exam topic covering NoSQL databases and global distribution. Let's think about what the exam expects you to know from these exercises.

The account database container item hierarchy is fundamental to understand. Account is the top-level billing and management unit with a globally unique DNS name. Database is a logical container for multiple containers, similar to a database in SQL. Container holds items and has throughput settings, like a table but schema-less. Item is a JSON document, similar to a row but with flexible structure. The exam tests understanding of this hierarchy and how to construct resource URLs for accessing specific items or containers.

Partition keys are heavily tested on the exam. Every container must have a partition key that determines data distribution across physical partitions. You need to choose a key with high cardinality meaning many distinct values for even distribution. The key should be used in most queries for performance and should be stable meaning it doesn't change. The exam tests choosing appropriate partition keys for different scenarios like user data where you'd use userId, IoT telemetry where you'd use deviceId, or multi-tenant apps where you'd use tenantId.

Connection string security is important to grasp. Connection strings contain the account endpoint and master keys which grant full access to the database. You should never commit them to source control, always use Key Vault for storage in production, and rotate keys regularly using the primary and secondary key pair. The exam tests secure credential management patterns and understanding when to use master keys versus resource tokens for more granular access control.

Schema flexibility in containers allows mixed document structures. Unlike SQL databases, Cosmos containers don't enforce schemas so different items can have different fields. This flexibility enables evolutionary design where you can add new fields without schema migrations, but it requires code to handle variations. The exam tests understanding of schema-less storage and when this is beneficial versus when you need enforced consistency.

The lowercase id field requirement is a common gotcha that appears on the exam. Cosmos requires every item to have an id property in case-sensitive lowercase that's unique within the partition. Using Id or ID causes errors. The exam may test understanding of item uniqueness and how the id field works with partition keys to create the actual unique identifier.

Entity Framework integration demonstrates using familiar tools with Cosmos DB. The EF provider translates LINQ queries to Cosmos SQL API queries, handles serialization and deserialization automatically, and supports change tracking for updates. The exam tests understanding of SDK options and when to use ORMs versus direct SDK access for more control over request units and performance. You should also understand Azure CLI with JMESPath for automation, SQL-like query syntax for NoSQL data, consistency levels including strong, bounded staleness, session, consistent prefix, and eventual. Know about request units and performance tuning, global distribution capabilities, and common scenarios about data modeling, partitioning strategies, and cost optimization. Master Cosmos DB for the AZ-204!

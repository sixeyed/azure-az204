Great work exploring VM configuration in the Portal, using Linux with custom script extension, testing the web server, and working with Windows VM extension! This topic supports AZ-204 exam objectives around compute solutions and VM management.

Infrastructure as Code demonstrates automation principles that appear throughout the exam. Custom Script Extensions are a common pattern across Azure services, appearing in VM Scale Sets, Azure DevTest Labs, and ARM template deployments. The post-deployment configuration concept is universal. There's a key distinction between declarative versus imperative configuration: JSON specification for custom script extensions is declarative where you describe what you want, while run-command feature is imperative where you tell Azure exactly what to do step by step. The exam tests understanding of these automation approaches.

Security and networking with NSGs is critical exam material. Azure follows a security-first approach with VMs, denying all inbound traffic from Internet by default, so you explicitly allow only what's needed. NSG rules have priority ranging from 100 to 4096 with lower numbers evaluated first, while default rules start at 65000, so custom rules use lower numbers to take precedence. Rules filter by IP ranges, service tags, or application security groups. The exam tests NSG configuration and security principles extensively.

Automation patterns must be understood for timing and lifecycle. VM Extensions run after VM is created, executing asynchronously, so the VM is running while the extension executes and you can't assume completion just because VM is running. Cloud-init runs during VM provisioning on Linux, synchronously with boot process, so the VM isn't fully available until cloud-init completes. Run Commands are on-demand operations that don't persist, they execute once with immediate output. The exam tests understanding of when to use each approach.

Integration scenarios show VMs in broader context. For web applications, you could deploy to Azure App Service or use VMs with custom script extensions installing web servers, and you need to understand tradeoffs of control versus management. Development environments might use Windows VMs with dev tools installation creating consistent environments, though production might use Azure DevTest Labs or Virtual Desktop. Hybrid solutions commonly use VMs needing on-premises compatibility with NSGs, private IPs, and VNets essential for hybrid connectivity. The exam tests architectural decision-making.

Common exam questions include scenarios like ensuring a script runs after a Linux VM is created and completes before VM is ready, where the answer is Cloud-init runs during provisioning. Installing monitoring agents on 100 VMs efficiently uses VM extensions deployed at scale via ARM templates. Debugging connectivity issues without logging in uses run-command to execute diagnostic scripts. The exam tests choosing appropriate automation approaches.

Key takeaways include that automation is essential, understanding extensions versus run-commands, security defaults to deny, NSG rules use priority, and multiple automation options exist for different scenarios. Security best practices involve least privilege, explicit allow rules, and monitoring access logs. These automation principles apply across all Azure compute services.

Master VM configuration automation for the AZ-204!

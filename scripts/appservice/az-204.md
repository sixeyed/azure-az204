# App Service for Web Apps - AZ-204 Exam Focus

## Introduction

For the AZ-204 certification exam, Azure App Service is a critical topic. This service appears throughout the exam objectives, particularly in the "Implement Azure App Service web apps" domain. Let's focus on the key concepts and skills you need to master.

## Key Exam Objectives

The AZ-204 exam tests your ability to:
- Create and configure Azure App Service web apps
- Implement continuous deployment scenarios
- Configure web app settings including connection strings and app settings
- Enable diagnostic logging
- Configure and implement autoscaling
- Understand App Service plans and pricing tiers

## Understanding App Service Plans

This is fundamental to the exam. An App Service Plan defines:

**Compute Resources:**
The App Service Plan is the unit of compute that runs your web apps. It's not just a pricing tier - it's the actual virtual machine or set of virtual machines that host your applications.

**Key Characteristics:**
- Multiple apps can run on the same App Service Plan, sharing the compute resources
- The plan defines the region where your apps run
- The SKU (pricing tier) determines the available features and capacity
- You can scale up by changing the SKU or scale out by adding more instances

**Pricing Tiers to Know:**
- **Free and Shared:** Development and testing, shared infrastructure, no SLA
- **Basic (B1, B2, B3):** Dedicated compute, suitable for low-traffic apps, manual scaling
- **Standard (S1, S2, S3):** Production workloads, auto-scale support, staging slots, daily backups
- **Premium (P1v2, P2v2, P3v2, P1v3, P2v3, P3v3):** Enhanced performance, more staging slots, increased storage
- **Isolated (I1, I2, I3):** Dedicated virtual network, maximum scale and performance

For the exam, understand the differences between these tiers and when to use each one.

## Deployment Methods

The exam covers multiple deployment scenarios. You need to understand:

**Local Git Deployment:**
As we demonstrated in this lab, App Service can act as a Git remote. This is simple but not recommended for production due to embedded credentials in the URL. However, you need to know how to configure it for the exam.

**External Git Repositories:**
You can configure continuous deployment from:
- GitHub
- Azure Repos
- Bitbucket
- Local Git (as we used)

**Container Deployments:**
App Service supports deploying from:
- Azure Container Registry
- Docker Hub
- Private registries

**Other Methods:**
- FTP/FTPS
- OneDrive and Dropbox
- ZIP deploy
- Azure DevOps pipelines

For the exam, know the appropriate use cases for each method.

## Application Settings and Configuration

This is a heavily tested area. Understand these concepts:

**Application Settings:**
- These are environment variables available to your application
- They override settings in your configuration files (like web.config or appsettings.json)
- Settings can be slot-specific for staging scenarios
- Common uses include feature flags, API endpoints, and non-sensitive configuration

**Connection Strings:**
- Specially handled settings for database connections
- Azure encrypts connection strings at rest
- Can be marked as slot-specific or not
- Support different types: SQLServer, SQLAzure, Custom, etc.

**Configuration Precedence:**
Know that App Settings in Azure override application configuration files. This is important for the exam.

**Slot Settings:**
Some settings can be marked as "deployment slot settings," which means they stay with the slot during a swap operation. Know when to use this feature.

## Deployment Slots

Deployment slots are a Standard tier feature and above. Key points:

**Purpose:**
- Test changes in a staging environment before production
- Perform zero-downtime deployments
- Easy rollback if issues are detected

**How Swapping Works:**
- The swap operation exchanges the content and certain configuration between slots
- The swap warms up the target slot before making it live
- Auto-swap can be configured for continuous deployment scenarios

**Slot-Specific Settings:**
Understand which settings stay with the slot and which move with the content during a swap.

## Diagnostic Logging

For the exam, know the different types of logging:

**Application Logging:**
- Log messages generated by your application code
- Can be sent to filesystem (temporary) or blob storage (permanent)
- Different log levels: Verbose, Information, Warning, Error

**Web Server Logging:**
- Raw HTTP request logs
- Stored in W3C extended log format

**Detailed Error Messages:**
- Detailed error pages for HTTP errors (400+)

**Failed Request Tracing:**
- Detailed tracing for failed requests
- Includes information about IIS modules

**Deployment Logging:**
- Automatically enabled
- Records details of application deployments

## Scaling Strategies

Understand both types of scaling:

**Scale Up (Vertical Scaling):**
- Change to a higher or lower pricing tier
- More CPU, memory, and features
- Requires app restart
- In our lab, this would mean changing from B1 to S1, for example

**Scale Out (Horizontal Scaling):**
- Add more instances of your application
- Can be manual or automatic
- No app restart required
- In our lab, we configured 2 worker instances - that's scaling out

**Autoscaling:**
Available in Standard tier and above. You can scale based on:
- Metrics (CPU percentage, memory percentage, HTTP queue length)
- Schedule (time-based rules)

Know how to configure autoscale rules and understand the cool-down period concept.

## Built-in Authentication

App Service provides built-in authentication with identity providers:
- Microsoft Identity Platform (Azure AD)
- Facebook
- Google
- Twitter
- Apple
- OpenID Connect providers

Key exam points:
- How to enable authentication
- Anonymous request handling options
- Token store functionality
- Authentication flow for web apps vs. APIs

## Networking Features

Understand these networking capabilities:

**Inbound Features:**
- App-assigned address
- Access restrictions (IP-based or virtual network rules)
- Service endpoints
- Private endpoints (Premium tier)

**Outbound Features:**
- Hybrid connections
- VNet integration
- Gateway-required VNet integration

## Important CLI Commands

For the exam, be familiar with these Azure CLI commands:

**App Service Plan:**
```bash
az appservice plan create
az appservice plan update
az appservice plan list
az appservice plan show
az appservice plan delete
```

**Web Apps:**
```bash
az webapp create
az webapp list
az webapp show
az webapp delete
az webapp start
az webapp stop
az webapp restart
```

**Configuration:**
```bash
az webapp config appsettings set
az webapp config appsettings list
az webapp config connection-string set
az webapp config set
```

**Deployment:**
```bash
az webapp deployment list-publishing-credentials
az webapp deployment source config
az webapp deployment slot create
az webapp deployment slot swap
```

**Logging:**
```bash
az webapp log config
az webapp log download
az webapp log tail
```

## Key Concepts from This Lab

Let's connect what we did to exam objectives:

**Creating the App Service Plan:**
We used the B1 SKU with 2 workers. For the exam, understand why you'd choose different SKUs and how worker count affects availability and performance.

**Setting Deployment Configuration:**
We used application settings to configure DEPLOYMENT_BRANCH and PROJECT. Understand that these settings can control platform behavior, not just application behavior.

**Git Deployment:**
The workflow we used - adding a Git remote and pushing code - demonstrates local Git deployment. Know the security implications and alternatives.

**Automatic Build:**
When we pushed, Azure detected the .NET project and compiled it automatically. This is Kudu (the deployment engine) in action. For the exam, know that Kudu handles various build scenarios automatically.

**Console Access:**
We explored the filesystem and environment variables through the Console. This demonstrates the app's runtime environment and the isolation between apps even when they share a plan.

## Exam Tips

**Scenario-Based Questions:**
The exam often presents scenarios where you need to choose the right deployment method, pricing tier, or configuration option. Always consider:
- Cost requirements
- Performance needs
- Availability requirements
- Security constraints
- Deployment frequency

**Common Mistakes to Avoid:**
- Confusing App Service Plan with App Service
- Not understanding which settings are slot-specific
- Forgetting that Free/Shared tiers don't support custom domains with SSL
- Overlooking the region constraint - apps must be in the same region as their plan

**Hands-On Practice:**
The exam includes performance-based testing where you might need to:
- Configure app settings through the Portal
- Set up deployment slots
- Configure autoscaling rules
- Enable diagnostic logging

Make sure you can do these tasks both via CLI and Portal.

## Real-World Application

While studying for the exam, remember that App Service is widely used in production:
- SaaS applications often use App Service for their web tier
- Migrating legacy .NET Framework apps to the cloud
- API hosting with built-in scaling and security
- Mobile app backends

Understanding real-world usage patterns will help you answer scenario questions on the exam.

## Summary

For AZ-204 success with App Service, master:
1. App Service Plan characteristics and pricing tiers
2. All deployment methods and when to use them
3. Application settings and configuration precedence
4. Deployment slots and swap operations
5. Logging and diagnostics options
6. Scaling strategies and autoscale configuration
7. CLI commands for all operations
8. Built-in authentication options
9. Networking features and restrictions

The hands-on experience from this lab gives you the foundation, but make sure to practice with different scenarios, pricing tiers, and deployment methods to be fully prepared for the exam.

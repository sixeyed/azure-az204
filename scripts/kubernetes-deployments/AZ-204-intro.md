Great work! This Deployments lab is crucial for the Implement container solutions objective in the AZ-204 exam. Understanding Deployment creation, scaling, and updates is fundamental to managing applications in Azure Kubernetes Service.

We'll start by exploring the API specs to understand how Deployments are structured. The exam expects you to know the critical difference between declarative and imperative management. When you're creating a Deployment for the whoami app, you'll see how Deployments are controllers that manage Pod lifecycle. Imperative commands like kubectl scale work for quick testing but declarative YAML manifests stored in source control are production-appropriate, fitting CI/CD pipelines and providing audit trails.

As we work through scaling Deployments, you'll master scaling applications both manually by updating replica count in Deployment YAML and understanding how Horizontal Pod Autoscaler scales based on CPU utilization or custom metrics. Know that HPA requires resource requests defined in Pod specs to work, as the exam tests this.

When working with managed Pods, you'll understand how labels and selectors are fundamental to how Deployments work. Deployments use selectors to find Pods, Services use selectors to route traffic, and labels in Pod templates must match Deployment selectors or configuration fails validation. The exam tests whether you understand how label selectors tie together all these objects.

The section on updating the application is particularly important because it demonstrates the exam's deployment strategies. Rolling updates gradually replace Pods maintaining availability when both versions can coexist briefly. You'll work with kubectl rollout history to see revision history and kubectl rollout undo to revert to previous versions, including the to-revision flag for specific revisions. During rolling updates, readiness probes are crucial as new Pods must pass checks before old Pods terminate ensuring zero downtime.

In the lab challenge, you'll implement blue-green deployment using multiple Deployments with Service label selector switching for instant rollback capability. This demonstrates an alternative strategy to rolling updates. The exam tests whether you know when to use rolling updates versus recreate strategy, which kills all Pods before creating new ones causing downtime but ensuring only one version runs, needed for database schema changes. Finally, we'll do cleanup. You'll understand Azure integration including how Deployments in AKS pull images from Azure Container Registry using managed identities, monitoring with Azure Monitor Container Insights, injecting secrets from Azure Key Vault, and CI/CD pipelines via Azure DevOps or GitHub Actions. The exam includes resource management with requests as minimum guaranteed resources for scheduling decisions and limits as maximum resources preventing single Pods from consuming all node resources. Master Deployment strategies for the AZ-204!

We've covered why Virtual Networks are fundamental to Azure security and how you need to plan networking architecture up front before deploying applications. Now let's create VNets and subnets, then deploy resources into them.

When you explore Virtual Networks in the Portal, you search to create a new Virtual Network resource and see configuration options. The name doesn't need to be globally unique, just unique within the Resource Group. For IP addresses, you select an address range for the whole vnet from a private CIDR range, and every vnet needs at least one subnet with subnets having their own IP range within the vnet range. You can create multiple subnets to isolate workloads in a single vnet.

Creating a Virtual Network with the CLI uses az network vnet create with the resource group, vnet name, and address prefix like 10.10.0.0 slash 16. When you create a vnet in the Portal it has a subnet created by default, but a basic vnet create command doesn't give you a subnet. You create subnets with az network vnet subnet create, making two subnets called frontend and backend with address ranges 10.10.1.0 slash 24 and 10.10.2.0 slash 24. Subnets are where you actually deploy services, so you need at least one in your vnet. You can't have overlapping IP address ranges in a subnet or use a range that isn't in the parent vnet.

Creating a Virtual Machine in the VNet uses az vm create specifying the vnet name and subnet parameters along with the usual VM settings. You use the UbuntuLTS image and generate SSH keys for authentication. The command takes care of setting up SSH so you can log into the remote machine, with output showing the public IP address you'll use to connect.

Connecting to the VM uses SSH with the public IP address. You run commands like ip address to see network configuration, and you'll notice VMs only know about their local IP address on the vnet. The public IP address is managed outside of the machine, while the private IP is assigned by the vnet in the expected range like 10.10.1.x.

Exploring Networking in the Portal shows objects you didn't explicitly create. You open your Resource Group and see a disk which is the virtual storage unit attached to the VM, a NIC which connects the VM to the vnet, a Network Security Group which controls network access to the VM, and a Public IP Address. You click on Resource Visualizer to see how all the resources are related. They were all created with default configuration, but you can create and manage them independently with az commands if you need more control.

VNets provide private network infrastructure where resources communicate securely using private IPs, but you can't typically move resources between VNets later, so plan your addressing and subnets carefully from the start.

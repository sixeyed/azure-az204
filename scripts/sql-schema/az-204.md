# Deploying Database Schemas - AZ-204 Exam Connection

## Exam Objective Mapping

This lab directly supports several AZ-204 exam objectives related to developing solutions that use Azure SQL Database.

## Develop for Azure Storage

While this lab focuses on SQL Database, it also covers Azure Blob Storage - specifically uploading files and managing access through SAS tokens. These are key topics in the "Develop for Azure Storage" domain.

On the exam, you might see questions about:
When to use different types of storage access keys, How Shared Access Signatures provide time-limited access to storage resources, and the structure of blob urls and how the storage account name forms part of the public address.

Remember that SAS tokens are a security best practice because they provide granular, time-limited access without exposing your storage account keys. You can specify exactly which permissions to grant - in our case, just read access to a single blob.

## Implement Azure Security

The firewall rules we configured demonstrate Azure SQL Server's defense-in-depth security model. By default, all access is blocked, and you must explicitly allow connections.

The exam may test your understanding of:
SQL Server firewall rules at the server and database level, The special IP address 0.0.0.0 to allow Azure services, and how to restrict access to specific ip ranges for client applications.

In production scenarios, you would configure more restrictive firewall rules, possibly using virtual network rules instead of IP-based rules for better security.

## Connect to and Consume Azure Services

Understanding how to work with Azure SQL Database is fundamental to the AZ-204 exam. You need to know:
How to create and configure SQL Server and databases using the Azure CLI, Connection string formats and authentication methods, and the difference between server-level and database-level administration.

This lab shows the infrastructure side of working with SQL Database. In application development, you'd use these same databases with connection strings and SDKs like ADO.NET, Entity Framework, or Dapper.

## Data Tier Applications in Practice

The concept of Bacpac and Dacpac files represents Microsoft's approach to database lifecycle management.

For the exam, understand:
**Bacpac files** include schema and data - use these for backups, migrations, and creating complete database copies, **Dacpac files** include only schema - use these for version control and deploying schema changes in DevOps pipelines, You can **import** from a Bacpac to create a new database, You can **export** to a Bacpac to backup an existing database, and you cannot import from a dacpac - they're used differently, typically with sqlpackage tooling in ci/cd pipelines.

## Migration Scenarios

This lab demonstrates a common migration pattern for moving to Azure. The exam may present scenarios where you need to:
Migrate an on-premises SQL Server database to Azure SQL Database, Clone a production database to create a test environment, Move a database between Azure regions, and restore a database from a backup.

The Bacpac import/export process we used is one approach. Other options include:
Database Migration Service for live migrations, Transactional replication for continuous sync, Geo-replication for disaster recovery, and point-in-time restore for backup scenarios.

Understanding when to use each approach is important for the exam.

## Best Practices

Several best practices demonstrated in this lab may appear on the exam:

**Resource Organization**: We used a resource group to contain all related resources, making management and cleanup simple. We also used tags to identify resources by project or cost center.

**Naming Conventions**: SQL Server names must be globally unique and follow DNS naming rules. Storage account names have even stricter requirements.

**Security**: We used strong passwords, configured firewall rules restrictively, and used SAS tokens instead of storage account keys.

**Monitoring**: We checked the Import/Export history in the Portal to track long-running operations.

## Common Exam Question Patterns

Based on this lab content, expect exam questions like:

*"You need to migrate a SQL Server database from on-premises to Azure SQL Database. The database is 50 GB and contains sensitive customer data. Which approach should you use?"*

*"Your application requires read access to a Bacpac file stored in Azure Blob Storage. The access should be limited to 24 hours. What should you configure?"*

*"You created an Azure SQL Server but cannot connect from your application. What should you check first?"*

*"Your team needs to deploy database schema changes as part of a CI/CD pipeline. Which file type should you use?"*

For each scenario, think about security, performance, cost, and operational complexity. The exam often tests your ability to choose the right tool for specific requirements.

## Hands-On Skills

This lab gave you hands-on experience with:
Azure CLI commands for SQL and Storage, The Azure Portal for verification and administration, SQL queries in the browser-based Query Editor, and working with both structured (sql) and unstructured (blob) data services.

These practical skills are valuable beyond just passing the exam. Database deployment and migration are common tasks in real-world Azure development.

## Summary

This lab connects to multiple AZ-204 domains: storage, security, and Azure services. The ability to deploy and manage database schemas is a fundamental skill for Azure developers, and the exam expects you to understand both the how and the why of different approaches.

Practice these workflows until they're comfortable, and make sure you understand not just the commands, but the concepts behind them.

# Azure Storage Accounts - AZ-204 Exam Exercises

Azure Storage Accounts appear in the AZ-204 exam under the storage solutions domain, which typically accounts for fifteen to twenty percent of your exam score. These exercises go beyond the basics and focus specifically on the features and scenarios you'll encounter in the exam. The AZ-204 exam tests not just your ability to create and configure storage accounts, but your understanding of production scenarios like redundancy options, security features, performance tiers, and cost optimization.

## Prerequisites

You should complete the basic storage lab before diving into these exam-focused exercises. The fundamental concepts like storage account creation, blob operations, and basic access control are essential building blocks. These advanced exercises assume you're comfortable with the basics and ready to explore the features that distinguish enterprise deployments from simple development scenarios.

## AZ-204 Exam Skills Covered

The exam expects you to demonstrate competency across a wide range of storage account capabilities. You'll need to understand the differences between storage account types and know which scenarios require which configuration. Choosing the right redundancy level is crucial because it appears frequently in disaster recovery and high availability scenarios. Understanding access tiers and lifecycle management is essential for cost optimization questions. Security features like network rules, shared access signatures, and Azure AD integration are increasingly important in the exam. Finally, you must know how to integrate storage accounts with other Azure services like virtual machines, app services, and container instances because storage rarely exists in isolation.

## Storage Account Fundamentals

Understanding storage account naming and configuration requirements is critical for the AZ-204 exam. Storage account names must be globally unique across all of Azure, not just your subscription. The naming rules are strict - lowercase letters and numbers only, between three and twenty-four characters. This is a common exam question, so watch for scenarios asking about valid or invalid storage account names. You might see a question presenting several storage account names and asking which ones are valid, or a scenario where a deployment is failing and you need to identify the naming issue.

Performance tiers are another fundamental concept you need to understand deeply. Standard tier uses HDDs and is suitable for most workloads where cost efficiency matters more than maximum performance. Premium tier uses SSDs and is required for scenarios requiring low latency or high IOPS, such as databases, virtual machine disks, or applications with demanding performance requirements. The exam may present a scenario describing application requirements and ask you to choose the appropriate tier.

Account kinds add another layer of complexity. General Purpose v2 is the recommended default for most scenarios - it supports all storage services and features with the latest capabilities. Premium Block Blob accounts are for high-performance scenarios requiring very high transaction rates or consistent single-digit millisecond latency. Premium File Share accounts are specifically for file shares requiring premium performance with predictable low latency. The exam expects you to know when each account kind is appropriate.

## Data Redundancy Options

Redundancy options are heavily tested on the AZ-204 exam. You must understand all redundancy levels and when to use each one. This isn't just memorization - the exam presents scenarios and expects you to choose the right option based on requirements like recovery point objective, recovery time objective, cost constraints, and availability needs.

Locally Redundant Storage replicates data three times within a single datacenter. It's the lowest cost option and protects against server rack and drive failures, but does not protect against datacenter-wide disasters. LRS provides eleven nines of durability, which sounds impressive but is actually the lowest durability among the redundancy options. When you see exam scenarios mentioning cost optimization as the primary concern with minimal availability requirements, LRS is often the answer.

Zone Redundant Storage replicates across three availability zones in the primary region. It provides higher availability than LRS because your data remains accessible even if one availability zone becomes unavailable. ZRS offers twelve nines of durability and is important to note that it's not available in all regions. The exam might trick you by presenting a scenario that seems perfect for ZRS but specifies a region where ZRS isn't supported, making it an invalid choice.

Geo-Redundant Storage replicates to a secondary region hundreds of miles away from the primary region. This provides true disaster recovery capabilities, protecting against regional disasters. With GRS, the secondary region data is not accessible for reads unless you initiate a failover. This is a critical distinction - many candidates confuse GRS with RA-GRS. GRS provides sixteen nines of durability, the highest level available.

Read-Access Geo-Redundant Storage is the same as GRS but allows read access to the secondary region without requiring a failover. This is ideal for high availability read scenarios where you want applications to continue reading data even if the primary region becomes unavailable. The exam tip here is clear - when the scenario requires reading from a secondary region without failover, RA-GRS is the answer, not plain GRS.

Geo-Zone-Redundant Storage and RA-GZRS combine ZRS in the primary region with GRS to a secondary region. These provide the highest level of durability and availability, combining zone redundancy and geographic redundancy. These are useful for mission-critical applications where you need protection against both zone failures and regional disasters. The exam might present a high-value application scenario requiring maximum protection - GZRS or RA-GZRS would be appropriate there.

## Blob Storage Access Tiers

The AZ-204 exam includes numerous questions about blob access tiers. Understanding these scenarios is essential for passing the storage portion of the exam. Access tiers represent a fundamental cost optimization strategy in Azure, and the exam tests your ability to match access patterns with the appropriate tier.

Hot tier is optimized for frequently accessed data with higher storage costs but lower access costs. Use this for active data sets that are read and written regularly. When the exam presents a scenario with frequent access patterns, daily operations, or real-time data processing, Hot tier is typically correct.

Cool tier is optimized for infrequently accessed data that's stored for at least thirty days. It has lower storage costs but higher access costs compared to Hot. The minimum thirty-day storage duration is important - if you delete or move data before thirty days, early deletion fees apply. Examples include short-term backup and disaster recovery data. The exam might present a backup scenario with monthly access patterns - Cool tier would be appropriate there.

Archive tier is optimized for rarely accessed data stored for at least one hundred eighty days. It offers the lowest storage cost but highest access and rehydration costs. The critical point is that Archive is offline storage - data isn't immediately accessible and can take hours to rehydrate. Examples include long-term backups, compliance archives, and historical data. The exam loves to test whether you understand the rehydration delay. If a scenario requires immediate access to data, Archive tier is wrong even if the access frequency is low.

## Blob Container Access Levels

Understanding access control is crucial for security-focused exam questions. Azure provides granular control over blob access through container access levels, and the exam tests your understanding of the security implications.

Private access is the default and most secure option. No anonymous access is permitted, and authentication is required for all operations. This is the secure default that Azure implements, and remembering this for exam scenarios about security is important. When asked about the most secure configuration, private access is the answer.

Blob-level access allows anonymous read access to individual blobs when users have the exact blob URL. Users cannot list container contents or discover what other blobs exist. This is useful for scenarios where you want to share specific files via direct links without exposing your entire container.

Container-level access allows anonymous read access to the entire container. Users can list all blobs in the container and download any of them. This is the highest level of public access and should only be used when you truly need to make all container contents publicly browsable. The exam might present this in the context of public datasets or website hosting.

Exam questions often present security scenarios requiring you to choose the appropriate access level. Remember that private is the default and most secure option. The exam might describe a data breach scenario and ask what configuration would have prevented it - choosing more restrictive access levels is usually part of the answer.

## Storage Account Security

Security is a major focus area for the AZ-204 exam, and storage accounts offer multiple layers of security that you need to understand thoroughly.

Network security features let you restrict access to storage accounts based on network location. Storage account firewalls allow restricting access by IP address or virtual network, preventing access from unauthorized networks even if someone has valid credentials. Service endpoints enable private network access from Azure virtual networks, keeping traffic on the Microsoft backbone network rather than traversing the public internet. Private endpoints provide a private IP address in your VNet for the storage account, making it accessible only from within your network. The exam tests your understanding of when each option is appropriate - private endpoints for maximum security, service endpoints for good security with easier configuration, and firewall rules for IP-based restrictions.

Shared Access Signatures provide delegated access to storage resources without sharing account keys. SAS tokens can limit permissions to specific operations like read or write, restrict access to specific resource types, and enforce time-based expiration. There are three types of SAS tokens you need to know for the exam. User delegation SAS is secured with Azure AD credentials and is the most secure option because it doesn't use account keys. Service SAS provides access to specific services like Blob or File storage. Account SAS provides access across multiple services within the storage account. The exam tip is clear - User delegation SAS is the most secure option and the recommended approach for production scenarios.

Access keys are the master keys for storage accounts. Every storage account has two access keys that provide full access to all data and operations. These keys should be rotated regularly following security best practices, and should never be embedded in client applications or source code. The dual-key system exists to support zero-downtime key rotation - you can rotate one key while applications still use the other, then update applications to the new key before rotating the second key.

Azure AD integration is the preferred authentication method for modern applications. It uses managed identities when possible, avoiding the need to manage credentials entirely. It supports role-based access control with built-in roles like Storage Blob Data Reader and Storage Blob Data Contributor. The exam increasingly focuses on Azure AD authentication as the preferred approach, so understanding how to configure it is important.

## Programmatic Access Patterns

The AZ-204 exam is developer-focused, so expect questions about using storage in code and understanding SDK patterns. You need to be familiar with the Azure Storage SDK and common operation patterns, even if you won't be writing actual code during the exam.

The Azure Storage SDK is available for multiple languages including .NET, Python, JavaScript, and Java. In .NET, you use BlobServiceClient to interact with storage at the account level. BlobContainerClient handles container operations like creating containers, setting permissions, and listing blobs. BlobClient manages individual blob operations like uploading, downloading, and setting metadata. Understanding this hierarchy is important for exam questions about which client to use for different scenarios.

Connection strings should come from configuration, not hard-coded in your application. This is a common exam scenario - you'll see code snippets and need to identify security issues, with hard-coded connection strings being a red flag. Use managed identities instead of connection strings when possible, especially when your application runs on Azure services that support managed identities. Implement retry policies for transient failures because Azure Storage operations can experience temporary network issues or throttling. Use async methods for better performance and scalability in your applications.

## Unmanaged vs Managed Disks

The exam may include scenarios about VM disk storage, and understanding the difference between managed and unmanaged disks is important. Managed disks are the default and recommended approach where Azure manages the storage account automatically. This is easier to manage and scale, provides better availability when used with availability sets, and eliminates storage account IOPS limits as a concern. Unmanaged disks require you to manage the storage account yourself. They're stored as page blobs in your storage account, are limited by storage account IOPS limits, and should only be used when you need specific storage control. The exam tip is clear - unless there's a specific reason stated in the scenario, always choose managed disks.

## Performance Considerations

Understanding performance concepts is essential for exam scenarios involving application optimization and troubleshooting. IOPS limits are important to know - standard storage accounts have IOPS limits that can become bottlenecks for high-performance applications. Premium storage offers higher and more predictable IOPS, making it essential when applications require consistent performance. You need to understand when to recommend Premium over Standard based on performance requirements.

Blob storage uses partition keys for scale. The blob path serves as the partition key, and understanding this helps you design for parallel access patterns. When multiple clients access different partition keys simultaneously, Azure can serve those requests in parallel for better performance.

CDN integration is important for globally distributed read access. Using Azure CDN for blob storage reduces load on the storage account by caching content at edge locations and improves latency for end users by serving content from nearby locations. The exam might present a scenario with global users and ask how to optimize performance - CDN integration is often part of the solution.

## Best Practices for AZ-204

When answering exam questions, keep these principles in mind as they align with how Microsoft expects solutions to be designed. Security first means choosing private access by default and using Azure AD when possible. Cost optimization involves matching access tiers to usage patterns and using lifecycle management to automatically transition data between tiers. Availability requires selecting redundancy based on RTO and RPO requirements from the scenario. Performance optimization means using Premium storage for low-latency requirements. Monitoring involves enabling diagnostic logs and metrics to track storage usage and performance. Lifecycle management uses policies to move data between tiers automatically based on age or access patterns, reducing costs without manual intervention.

## Common Exam Scenarios

Recognizing common scenario patterns helps you answer questions more quickly and confidently. When you see a web application scenario needing to store user-uploaded images, the answer involves using blob storage with the appropriate access tier, considering security with private or blob-level access, and potentially using CDN for distribution at scale.

When backup data must be retained for seven years, the answer is Archive tier blob storage. Consider that access patterns will be rare, rehydration time is acceptable for restore scenarios, and the long-term cost savings outweigh the higher access costs.

When an application in multiple regions must always be able to read data, the answer is RA-GRS or RA-GZRS. The key is read access to the secondary region without requiring a failover, maintaining availability even during regional issues.

When you need to provide temporary access to a blob for an external partner, generate a SAS token with limited duration and permissions. Consider using user delegation SAS for better security since it doesn't rely on account keys and supports Azure AD authentication.

## Summary

To succeed on storage questions in the AZ-204 exam, you need to know redundancy options and when to use each based on availability and durability requirements. Understand access tiers and their cost implications, including minimum storage durations and early deletion fees. Master blob access levels and security options, knowing when each is appropriate. Be familiar with the storage SDK and common programming patterns, understanding the client hierarchy and best practices. Recognize scenarios requiring specific configurations, using the principles of security, cost optimization, availability, and performance.

Practice creating storage accounts, uploading blobs, configuring security with SAS tokens and Azure AD, and implementing lifecycle policies. The more hands-on experience you have, the better you'll perform on scenario-based exam questions. Microsoft tests application of knowledge, not just memorization, so understanding why each feature exists and when to use it is more valuable than remembering exact commands or configurations.

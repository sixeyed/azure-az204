# Static Websites with Azure Storage - AZ-204 Exam Relevance

## Exam Objective Mapping

This lab directly supports the AZ-204: Developing Solutions for Microsoft Azure exam objectives, specifically within the Azure Storage domain. Understanding static website hosting is crucial for the exam and real-world Azure development.

### Primary Exam Areas Covered

**Develop Azure compute solutions** - While not traditional compute, static websites represent a serverless hosting approach that eliminates compute management.

**Develop for Azure Storage** - This is the primary exam domain covered by this lab, including:
- Configuring Azure Storage accounts for specific use cases
- Working with blob storage containers and access tiers
- Understanding storage redundancy options
- Implementing storage account endpoints and access patterns

**Implement Azure security** - Understanding how static website access differs from direct blob access demonstrates important security concepts.

## Key Concepts for AZ-204

### Static Website Configuration

For the exam, you need to understand:

1. **Enabling static website hosting** requires setting specific blob service properties
2. The **dollar-web container** is automatically created and has special access rules
3. **Two document types** must be configured: index document and 404 error document
4. The **static website endpoint** is distinct from the blob endpoint

The key CLI command pattern to remember:

```
az storage blob service-properties update --static-website --404-document [ERROR_PAGE] --index-document [INDEX_PAGE] --account-name [STORAGE_ACCOUNT_NAME]
```

### Storage Redundancy Options

The AZ-204 exam tests your knowledge of different redundancy levels:

- **LRS (Locally Redundant Storage)** - 3 copies in one datacenter, lowest cost
- **GRS (Geo-Redundant Storage)** - 6 copies across two regions, no read access to secondary
- **RA-GRS (Read-Access Geo-Redundant Storage)** - 6 copies with read access to secondary region
- **ZRS (Zone-Redundant Storage)** - 3 copies across availability zones
- **GZRS (Geo-Zone-Redundant Storage)** - Zone-redundant in primary, geo-redundant to secondary

For static websites, **RA-GRS is particularly useful** because it provides:
- High availability through geographic distribution
- Read access from secondary region
- Lower cost than full GRS with read-write access
- Automatic failover capabilities

### Access Patterns and Security

Understanding the dual access model is crucial:

1. **Blob endpoint access** - Direct blob URLs are NOT publicly accessible even when static website is enabled
2. **Static website endpoint access** - Public access through the dedicated static website domain

This demonstrates Azure's layered security model. The exam may present scenarios where you need to choose the appropriate access method.

### CDN Integration

Azure CDN is a separate service that appears in multiple exam domains:

**Key concepts for the exam:**

1. **CDN Profiles** - Container for CDN endpoints, defines pricing tier
2. **CDN Endpoints** - The actual domain name users access
3. **Origin** - The source of content (in this case, static website endpoint)
4. **Origin Host Header** - Must match the static website domain
5. **Caching behavior** - Content is cached at edge locations globally
6. **Purge operations** - Force CDN to refresh cached content

The standard pattern for CDN deployment:

```
# Create profile
az cdn profile create --sku Standard_Microsoft -g [RESOURCE_GROUP] -n [PROFILE_NAME]

# Create endpoint
az cdn endpoint create -g [RESOURCE_GROUP] --profile-name [PROFILE_NAME] --origin [ORIGIN_DOMAIN] --origin-host-header [ORIGIN_DOMAIN] -n [ENDPOINT_NAME]
```

### Content Delivery and Propagation

The exam may test your understanding of:

1. **Initial propagation time** - CDN endpoints take several minutes to become active
2. **Cache duration** - Content remains cached based on CDN rules and headers
3. **Update propagation** - Changes to origin don't immediately reflect in CDN
4. **Purge operations** - How to force CDN cache refresh when needed

## Exam Question Patterns

### Scenario-Based Questions

The AZ-204 exam often presents real-world scenarios. For static websites, expect questions like:

**Scenario 1:** "A company needs to host a marketing website that must remain available even if an Azure region fails. The site content changes monthly. What storage configuration should you recommend?"

**Answer approach:** RA-GRS for geo-redundancy with read access from secondary region. Consider CDN for global distribution and caching.

**Scenario 2:** "After deploying content updates to a static website, users still see old content. What should you check?"

**Answer approach:** Check if CDN is being used, verify cache settings, consider CDN purge operation.

**Scenario 3:** "You receive an error when trying to download files directly from the dollar-web container using the blob endpoint. What is the issue?"

**Answer approach:** Static website content must be accessed through the static website endpoint, not the blob endpoint.

### CLI Command Recognition

You should be able to:

1. Identify correct command syntax for enabling static websites
2. Recognize valid SKU names for storage redundancy
3. Understand batch upload operations to blob containers
4. Identify proper CDN profile and endpoint creation commands

### Storage Account Properties

Memorize these key properties:

- **Primary endpoint format:** `https://[ACCOUNT_NAME].[PRIMARY_REGION].web.core.windows.net`
- **Secondary endpoint format:** `https://[ACCOUNT_NAME]-secondary.[SECONDARY_REGION].web.core.windows.net`
- **CDN endpoint format:** `https://[ENDPOINT_NAME].azureedge.net`
- **Blob endpoint format:** `https://[ACCOUNT_NAME].blob.core.windows.net`

## Integration with Other Services

For the exam, understand how static websites integrate with:

1. **Azure Front Door** - Alternative to CDN with additional routing capabilities
2. **Azure DNS** - Custom domain configuration for static websites
3. **Azure Key Vault** - Storing connection strings and access keys
4. **Azure Monitor** - Logging and metrics for storage accounts and CDN

## Cost Optimization Considerations

The exam may test your understanding of cost factors:

1. **Storage costs** - Pay for blob storage used
2. **Redundancy costs** - Higher redundancy options cost more
3. **CDN costs** - Based on data transfer and number of requests
4. **Egress charges** - Data transfer out of Azure (CDN can reduce this)

Static websites on blob storage are typically the **lowest cost option** for hosting static content compared to:
- Azure App Service static site hosting
- Virtual machines with web servers
- Container-based solutions

## Best Practices for the Exam

1. **Know the dollar-web container** - It's automatically created, has special properties
2. **Understand geo-replication timing** - Not instantaneous, check lastSyncTime
3. **Remember CDN propagation delays** - Initial setup and cache purge take time
4. **Security by default** - Static website endpoint is public, blob endpoint is not
5. **Use RA-GRS for read-heavy scenarios** - Cost-effective high availability

## Lab Exercise Relevance

The lab's challenge about purging CDN cache directly relates to exam objectives around managing Azure CDN. The solution involves:

```
az cdn endpoint purge -g [RESOURCE_GROUP] --profile-name [PROFILE_NAME] -n [ENDPOINT_NAME] --content-paths '/*'
```

This demonstrates understanding of:
- CDN management operations
- Cache invalidation patterns
- Content path specifications

## Summary

For the AZ-204 exam, ensure you can:

1. Enable and configure static website hosting on storage accounts
2. Choose appropriate storage redundancy for different scenarios
3. Understand access patterns and security for static websites
4. Deploy and manage Azure CDN endpoints
5. Troubleshoot common issues with static websites and CDN
6. Optimize costs while meeting availability requirements

This lab provides hands-on experience with all these concepts, making them practical rather than just theoretical knowledge for the exam.

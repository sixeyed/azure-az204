Excellent work automating IaaS! This combines infrastructure as code concepts with IaaS resource management for the AZ-204.

Complete versus incremental deployment modes is critical and frequently tested. Incremental mode which is the default adds or updates resources matching the template while leaving other resources alone, making it safe for adding to existing resource groups like you did when deploying core, SQL, and VM resources separately. Complete mode deletes resources not in the template which is dangerous because you can accidentally remove existing infrastructure if you forget to include resources in your template. The exam tests understanding when to use each mode and the consequences of choosing wrong, especially in scenarios where you're updating existing environments.

Using the existing keyword to reference resources across Bicep files enables modular design like you saw with sql.bicep referencing the VNet and subnet from core.bicep. A resource declaration with existing creates a reference to an existing resource without trying to create it, allowing one module to reference resources created by another module. The exam tests understanding of resource references and modular template design for building maintainable infrastructure code.

The @secure decorator marks parameters containing sensitive data like passwords, connection strings, and API keys. Bicep ensures these values aren't logged or displayed in deployment history, which you used for the SQL and VM admin passwords. In ARM JSON this is the SecureString type. The exam tests proper handling of sensitive parameters and understanding why they need special treatment.

Custom script extensions for VM automation execute scripts on VMs after deployment as you saw with the automated application installation. Use custom script extensions for installing software, configuring applications, deploying code, and running setup scripts. Extensions download scripts from storage accounts or URLs, execute with appropriate permissions, and report success or failure. The exam tests when to use custom script extensions versus other approaches like Desired State Configuration or Azure Automation.

Modular template design with separate files for different concerns like networking, database, and compute makes templates maintainable and reusable across environments. Use modules with parameters to customize behavior for different deployments. The exam tests understanding of modular design benefits and how to structure templates for reuse, building on your experience with the three-file structure.

Resource dependencies and references must be handled correctly. Bicep infers dependencies automatically when you reference resource properties, like how the VM Bicep knew to wait for the VNet to exist because it referenced the subnet. The exam tests understanding of dependency chains and what happens when dependencies aren't satisfied causing deployment failures.

Security with secure parameters and Key Vault protects sensitive data. Never hardcode passwords in templates as you properly used secure parameters in the lab. Use Key Vault references in production to centralize secrets management. The exam tests security best practices for credential management in IaaS deployments.

The exam also covers what-if validation workflow for previewing changes like you used before deployments, parameter files for managing different environments, troubleshooting deployment failures when templates have errors, lifecycle management for updating infrastructure, and common scenarios about migrating from manual IaaS deployments to fully automated infrastructure as code. Master IaaS automation for the AZ-204!

# IaaS Bicep - AZ-204 Exam Connection Narration Script

## Introduction

Let's talk about how this lab connects to the AZ-204 exam and what you need to know for certification.

## AZ-204 Exam Domain: Implement IaaS Solutions

This lab directly addresses the "Implement IaaS Solutions" domain of the AZ-204 exam. Let's break down the specific skills that are tested.

### Provisioning Virtual Machines

The exam expects you to understand how to provision VMs in Azure, and that includes:

- Understanding VM sizing and configuration options
- Knowing how to attach VMs to virtual networks
- Understanding managed disks and storage options
- Configuring network interfaces and public IPs

In this lab, we've demonstrated all of these concepts through Bicep. While you won't be writing Bicep templates during the exam, understanding the underlying resources and how they connect is critical.

### ARM Templates and Bicep

The AZ-204 exam covers Infrastructure as Code concepts, and while ARM templates are the official standard, Bicep is increasingly important. You should understand:

- The difference between complete and incremental deployment modes
- How to use parameters and variables
- How resources reference each other
- How to use nested or linked templates - which in Bicep means referencing resources across files

This lab demonstrated all of these patterns. Pay special attention to how we used incremental deployments to safely add resources without affecting existing infrastructure.

### Custom Script Extensions

This is a frequently tested concept on the AZ-204 exam. The custom script extension allows you to run scripts during or after VM deployment. You need to know:

- When to use custom script extensions versus other automation approaches
- How to pass parameters and secrets to scripts securely
- That scripts run with system privileges
- How to troubleshoot script execution

In our lab, the custom script extension deployed an entire web application automatically. This pattern - infrastructure plus configuration - is exactly what Microsoft expects you to understand.

### Virtual Networks and Network Security

The exam covers Azure networking in depth. From this lab, focus on:

- Virtual network and subnet relationships
- Network Security Groups and security rules
- How VMs connect to VNets through NICs
- Public and private IP addresses
- DNS configuration and FQDNs

We created all of these resources in our core Bicep file, and the exam may ask you to troubleshoot connectivity issues or design network architectures.

### Azure SQL Database

While this isn't strictly IaaS, the exam covers SQL Database extensively. Key concepts include:

- Server-level versus database-level configuration
- Firewall rules and virtual network rules
- Connection strings and authentication methods
- Security best practices for credentials

Notice how we used the `@secure()` decorator for the SQL password in our Bicep template. This kind of security awareness is important for the exam.

### Resource Groups and Organization

The exam expects you to understand resource management:

- When to use multiple resource groups versus a single group
- How resources can reference other resources in the same group
- Resource tagging for organization and cost management
- Deployment naming and tracking

In our lab, we deployed all resources to a single resource group and used tags for organization.

## Exam Question Patterns

Based on this lab content, here are the types of questions you might see on the AZ-204 exam:

**Scenario-based questions**: You'll be given a scenario like "A company needs to deploy a web application with a database backend" and asked to choose the best deployment approach or identify issues in a proposed solution.

**Code completion questions**: You might see partial ARM template or Bicep code and need to complete it correctly, particularly for resource references or properties.

**Troubleshooting questions**: Given error messages or symptoms, you'll need to identify the root cause. For example, understanding why a complete mode deployment would delete resources not in the template.

**Best practice questions**: You'll be asked to identify the most secure, scalable, or cost-effective approach to a problem. Understanding when to use custom script extensions versus other automation methods is a common theme.

## Key Takeaways for the Exam

Let me emphasize the most important concepts from this lab for the AZ-204 exam:

**One**: Understand the complete lifecycle of IaaS resources - from networking to compute to automation. They're all connected.

**Two**: Know deployment modes inside and out. Complete versus incremental is a common exam topic.

**Three**: Custom script extensions are your automation tool for VMs. Know when and how to use them.

**Four**: Security matters. Secure parameters, firewall rules, and network isolation are testable concepts.

**Five**: Resource references and dependencies matter. Understanding how resources connect - like how the VM NIC references the subnet - is critical.

## Practice Recommendations

To prepare for the exam based on this lab:

Practice writing ARM templates or Bicep code for common scenarios. You don't need to memorize syntax, but you should understand the structure.

Work through "what would happen if" scenarios. What if we used complete mode? What if the SQL Server name isn't unique? What if the VM can't reach the SQL Server?

Understand the Azure CLI commands we used. The exam may include questions about CLI syntax and options.

And finally, practice troubleshooting. Look at the logs we reviewed from the custom script extension - understanding where to find diagnostic information is an important skill.

## Conclusion

This lab covered multiple AZ-204 exam objectives in a single, realistic scenario. The concepts of IaaS automation, Infrastructure as Code with Bicep, custom script extensions, and resource orchestration are all exam-worthy topics.

Make sure you understand not just the "how" but the "why" - why we used incremental mode, why we split templates across files, why we used secure parameters. That level of understanding is what the AZ-204 exam is testing for.

Excellent work with pub-sub messaging! This pattern is essential for the AZ-204 exam's messaging section.

When you were creating the Service Bus namespace and topic, you learned that you need at least Standard tier for topics. The exam frequently tests Service Bus tier selection. Basic supports queues only with 256 KB messages. Standard supports both queues and topics with 256 KB messages. Premium provides enhanced performance with message size up to 100 MB, VNet integration, and dedicated resources. The exam will give you requirements like "need topics" or "need VNet integration" and ask you to choose the appropriate tier.

Creating subscriptions showed you the topics and subscriptions architecture that the exam tests heavily. Topics are destinations for publishers sending messages. Subscriptions are independent receivers getting copies of topic messages. Each subscription gets its own copy of matching messages, and messages are forwarded to all subscriptions. This is different from queues which provide point-to-point communication where each message is consumed by exactly one receiver. The exam presents scenarios and you need to choose whether to use queues or topics based on the requirements.

When you published messages to the topic, you created authorization rules following the principle of least privilege. This is critical for the exam. Shared Access Signatures provide authorization rules with specific rights including Send, Listen, or Manage. You should create specific policies for publishers with Send rights only and subscribers with Listen rights only. Connection strings contain the endpoint and credentials, and Azure Active Directory can be used for more advanced scenarios. The exam tests understanding of when to use different authorization approaches.

The topic configuration included time-to-live settings, which the exam covers. TTL can be set at the topic level as a default for all messages, or overridden per message. It prevents old messages from accumulating and uses ISO 8601 duration format like P0DT0H10M1S. When you received messages from a subscription and saw some might have expired, that demonstrated TTL in action.

Receiving messages from both subscriptions showed how each subscription maintains its own independent message state. The web subscription had zero messages because they were consumed, while the desktop subscription still had all its copies. This demonstrates the fan-out pattern where one message reaches multiple subscribers, each processing at its own pace. The exam tests understanding of how this differs from the competing consumers pattern, which you explored in the lab when running multiple subscribers on the same subscription.

The exam also covers subscription filters, which you didn't use but are important to know. SQL filters are flexible but slower, using expressions like "priority='high' AND region='east'". Correlation filters are more efficient and recommended for simple property matching. Boolean filters include TrueFilter which receives all messages and is the default, and FalseFilter which receives no messages. The exam tests choosing the appropriate filter type for filtering messages to different subscribers based on message properties.

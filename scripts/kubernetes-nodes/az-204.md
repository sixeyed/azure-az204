# Kubernetes Nodes - AZ-204 Exam Focus Script

**Purpose:** Exam preparation emphasis
**Duration:** 3-4 minutes

---

## Introduction

Welcome to the AZ-204 exam focus for Kubernetes Nodes. In this segment, we're going to zero in on exactly what you need to know about nodes for the Microsoft Azure Developer Associate certification.

The AZ-204 exam tests your ability to develop solutions using Azure services, and Azure Kubernetes Service is a key component. Let's make sure you're prepared.

---

## Exam Objective: Container Solutions

Under the "Develop Azure compute solutions" objective, you're expected to understand how to implement containerized solutions. This specifically includes working with Azure Kubernetes Service.

When it comes to nodes, the exam focuses on three main areas:
1. Understanding node architecture and components
2. Managing and inspecting nodes using kubectl
3. Troubleshooting node-related issues

Let's break each of these down.

---

## Node Architecture - What You Need to Know

For the exam, you need to understand that nodes are the worker machines in a Kubernetes cluster. In AKS, these are Azure virtual machines managed by Microsoft.

**Key exam points:**

Nodes run three essential components:
- The kubelet - communicates with the control plane
- The container runtime - runs containers (containerd in AKS)
- The kube-proxy - handles network routing

You won't be asked to install or configure these components manually - AKS handles that. But you should understand what each one does and why they're important.

**Exam tip:** If you see a question about a pod not running or communication failing between pods, think about which node component might be involved.

---

## Node Pools in Azure Kubernetes Service

This is an Azure-specific concept that's important for the exam. A node pool is a group of nodes with identical configuration within an AKS cluster.

**Key exam concepts:**

System node pools run critical system pods. Every AKS cluster must have at least one system node pool.

User node pools run your application workloads. You can have multiple user node pools with different VM sizes and configurations.

**Exam scenario:** You might see questions about when to use multiple node pools. The answer typically involves:
- Different workload requirements (CPU vs memory intensive)
- Isolation of different application tiers
- Different scaling requirements
- Windows and Linux workloads in the same cluster

Remember: You can add or remove user node pools, but you must always have at least one system node pool.

---

## Node Capacity and Resource Management

Understanding node capacity is crucial for both the exam and real-world scenarios.

**Key concepts:**

Each node has two resource values:
- Capacity - the total physical resources on the node
- Allocatable - resources available for pods after system components

The difference between these is what's reserved for Kubernetes system components like the kubelet and container runtime.

**For the exam, remember:**

When you create pods with resource requests and limits, Kubernetes uses the allocatable capacity to determine which node can host the pod.

If a pod's resource requests exceed what's available on any node, the pod stays in a pending state. This is a common troubleshooting scenario in exam questions.

**Exam tip:** Look for questions about pods that won't schedule. The answer often involves checking node capacity using kubectl describe nodes.

---

## Essential kubectl Commands for the Exam

The exam will test your knowledge of kubectl commands. For nodes, these are the must-know commands:

**kubectl get nodes**
- Lists all nodes in the cluster
- Shows basic status, roles, age, and version
- Use --show-labels to see all labels

**kubectl describe nodes**
- Shows detailed information about nodes
- Includes capacity, allocatable resources, running pods, and events
- Your go-to command for troubleshooting

**kubectl top nodes**
- Shows current resource usage (requires metrics server)
- Important for capacity planning and troubleshooting performance issues

**Exam scenario:** You might see a question asking how to determine which nodes are overloaded. The answer would be kubectl top nodes to see current usage.

---

## Node Labels and Selectors

Labels are critical in Kubernetes, and you need to understand them for the exam.

**Key exam points:**

Every node automatically gets labels like:
- kubernetes.io/arch - CPU architecture
- kubernetes.io/os - operating system
- node.kubernetes.io/instance-type - Azure VM size

You can add custom labels to nodes for workload placement.

**Node selectors** let you constrain pods to run on specific nodes based on labels.

**Exam scenario:** You might see a question like "How do you ensure a Windows application runs only on Windows nodes?" The answer involves using node selectors with the OS label.

---

## Node Taints and Tolerations

This is a more advanced topic that appears in AZ-204 exam questions.

**Key concepts:**

Taints are applied to nodes to repel pods. Think of them as "no entry" signs.

Tolerations are applied to pods to allow them to schedule on tainted nodes.

**In AKS, common use cases include:**
- Reserving nodes for specific applications
- Isolating workloads with special requirements
- Temporarily cordoning nodes for maintenance

**Exam tip:** If you see a question about preventing certain pods from running on specific nodes, think about taints and tolerations or node selectors.

---

## Scaling and Node Management

For the exam, understand these node management operations:

**Manual scaling** - You can increase or decrease the node count in a node pool through the Azure portal, CLI, or PowerShell.

**Autoscaling** - AKS supports cluster autoscaler, which automatically adjusts node count based on pod resource requests.

**Node upgrades** - AKS handles Kubernetes version upgrades. Understanding the upgrade process is important.

**Exam scenario:** You might see questions about handling increased load. Know when to:
- Scale out pods (horizontal pod autoscaling)
- Scale out nodes (cluster autoscaler)
- Choose larger VM sizes for nodes

---

## Troubleshooting Node Issues

The exam will test your troubleshooting skills. For node-related problems:

**Pod won't schedule?**
- Check node capacity with kubectl describe nodes
- Verify there are Ready nodes with kubectl get nodes
- Look for resource constraints or taints

**Node shows NotReady status?**
- Check events in kubectl describe node
- Could be kubelet issues, network problems, or resource exhaustion
- In AKS, Azure support may need to investigate underlying VM issues

**Performance issues?**
- Use kubectl top nodes to check resource usage
- Review pods running on each node
- Consider scaling out or using larger VM sizes

**Exam tip:** Troubleshooting questions often have multiple-choice answers. Look for the answer that involves gathering information first (like kubectl describe) rather than immediately taking action.

---

## Integration with Other Azure Services

Don't forget that AKS nodes integrate with other Azure services that appear on the exam:

**Azure Monitor** - Collects metrics and logs from nodes and containers. Know how to access these in Container Insights.

**Azure Virtual Networks** - Nodes run in a VNet. Understand basic networking concepts like subnet assignment.

**Azure Active Directory** - Used for cluster authentication and authorization.

**Azure Container Registry** - Nodes pull images from ACR. Understand how authentication works.

**Exam tip:** Questions may combine multiple services. For example, "How do you securely pull images from ACR to AKS?" involves understanding managed identities and service principals.

---

## JSON Path and Output Formatting

The exam may test your ability to query Kubernetes resources.

**Know these output formats:**
- -o wide - Extended table view
- -o yaml - YAML format
- -o json - JSON format
- -o jsonpath - Query specific fields

**Exam scenario:** You might see a question asking how to get just the CPU capacity of all nodes. The answer would involve using JSON Path with kubectl get nodes.

**Practice this syntax:**
```
kubectl get nodes -o jsonpath='{.items[*].status.capacity.cpu}'
```

Understanding the structure helps you answer these questions quickly.

---

## Common Exam Traps

Watch out for these common misconceptions:

**Trap 1:** "You can SSH directly into AKS nodes for troubleshooting."
Reality: While possible, it's not the recommended approach. Use kubectl commands first.

**Trap 2:** "Adding more nodes always solves performance problems."
Reality: If pods have limits set, adding nodes won't help. You need to adjust pod resources or scale pods.

**Trap 3:** "All nodes in a cluster must be the same size."
Reality: You can have multiple node pools with different VM sizes.

**Trap 4:** "System pods can run on user node pools."
Reality: True, but best practice is to separate them using node pools and taints.

---

## Quick Reference for the Exam

When you see a question about nodes on the exam, ask yourself:

1. Is this about node architecture or components?
2. Is this about capacity and resource allocation?
3. Is this about workload placement (labels, selectors, taints)?
4. Is this about scaling or performance?
5. Is this about troubleshooting?

Then recall the relevant kubectl commands and concepts for that category.

---

## Practice Recommendations

Before taking the exam:

1. Set up an AKS cluster in a free Azure subscription
2. Practice all the kubectl commands covered in the exercises
3. Try creating multiple node pools with different configurations
4. Intentionally create resource constraint scenarios and practice troubleshooting
5. Work with JSON Path queries until you're comfortable with the syntax

The hands-on experience will make the exam questions much more intuitive.

---

## Conclusion

Kubernetes nodes are a testable topic on the AZ-204 exam, but they're very manageable if you understand the core concepts:
- Node architecture and components
- Resource capacity and allocation
- Node pools in AKS
- kubectl commands for inspection and troubleshooting
- Labels, selectors, and taints for workload placement

Combined with hands-on practice, you'll be well-prepared for any node-related questions on the exam.

Good luck with your studying, and remember - the best preparation is actual experience. Get your hands dirty with AKS, and the exam will feel like second nature.

You've got this!
